'use strict';

exports.__esModule = true;
exports.UseRoleCommand = exports.SetPageLoadTimeoutCommand = exports.SetTestSpeedCommand = exports.GetBrowserConsoleMessagesCommand = exports.GetNativeDialogHistoryCommand = exports.SetNativeDialogHandlerCommand = exports.SwitchToMainWindowCommand = exports.SwitchToIframeCommand = exports.ClearUploadCommand = exports.SetFilesToUploadCommand = exports.NavigateToCommand = exports.PressKeyCommand = exports.SelectTextAreaContentCommand = exports.SelectEditableContentCommand = exports.SelectTextCommand = exports.DragToElementCommand = exports.DragCommand = exports.TypeTextCommand = exports.HoverCommand = exports.DoubleClickCommand = exports.ExecuteExpressionCommand = exports.RightClickCommand = exports.ClickCommand = undefined;

var _type = require('./type');

var _type2 = _interopRequireDefault(_type);

var _selectorBuilder = require('../../client-functions/selectors/selector-builder');

var _selectorBuilder2 = _interopRequireDefault(_selectorBuilder);

var _clientFunctionBuilder = require('../../client-functions/client-function-builder');

var _clientFunctionBuilder2 = _interopRequireDefault(_clientFunctionBuilder);

var _builderSymbol = require('../../client-functions/builder-symbol');

var _builderSymbol2 = _interopRequireDefault(_builderSymbol);

var _base = require('./base');

var _base2 = _interopRequireDefault(_base);

var _options = require('./options');

var _initializers = require('./validations/initializers');

var _executeJsExpression = require('../execute-js-expression');

var _utils = require('./utils');

var _argument = require('./validations/argument');

var _testRun = require('../../errors/test-run');

var _observation = require('./observation');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Initializers
function initActionOptions(name, val) {
    return new _options.ActionOptions(val, true);
}

function initClickOptions(name, val) {
    return new _options.ClickOptions(val, true);
}

function initMouseOptions(name, val) {
    return new _options.MouseOptions(val, true);
}

function initTypeOptions(name, val) {
    return new _options.TypeOptions(val, true);
}

function initDragToElementOptions(name, val) {
    return new _options.DragToElementOptions(val, true);
}

function initDialogHandler(name, val, { skipVisibilityCheck, testRun }) {
    var fn;

    if ((0, _utils.isJSExpression)(val)) fn = (0, _executeJsExpression.executeJsExpression)(val.value, testRun, { skipVisibilityCheck });else fn = val.fn;

    if (fn === null || fn instanceof _observation.ExecuteClientFunctionCommand) return fn;

    var options = val.options;
    var methodName = 'setNativeDialogHandler';
    var builder = fn && fn[_builderSymbol2.default];
    var isSelector = builder instanceof _selectorBuilder2.default;
    var functionType = typeof fn;

    if (functionType !== 'function' || isSelector) throw new _testRun.SetNativeDialogHandlerCodeWrongTypeError(isSelector ? 'Selector' : functionType);

    builder = builder instanceof _clientFunctionBuilder2.default ? fn.with(options)[_builderSymbol2.default] : new _clientFunctionBuilder2.default(fn, options, { instantiation: methodName, execution: methodName });

    return builder.getCommand([]);
}

// Commands
class ClickCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.click);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initClickOptions, required: true }];
    }
}

exports.ClickCommand = ClickCommand;
class RightClickCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.rightClick);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initClickOptions, required: true }];
    }
}

exports.RightClickCommand = RightClickCommand;
class ExecuteExpressionCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.executeExpression);
    }

    _getAssignableProperties() {
        return [{ name: 'expression', type: _argument.nonEmptyStringArgument, required: true }, { name: 'resultVariableName', type: _argument.nonEmptyStringArgument, defaultValue: null }, { name: 'isAsyncExpression', type: _argument.booleanArgument, defaultValue: false }];
    }
}

exports.ExecuteExpressionCommand = ExecuteExpressionCommand;
class DoubleClickCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.doubleClick);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initClickOptions, required: true }];
    }
}

exports.DoubleClickCommand = DoubleClickCommand;
class HoverCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.hover);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initMouseOptions, required: true }];
    }
}

exports.HoverCommand = HoverCommand;
class TypeTextCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.typeText);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'text', type: _argument.nonEmptyStringArgument, required: true }, { name: 'options', type: _argument.actionOptions, init: initTypeOptions, required: true }];
    }
}

exports.TypeTextCommand = TypeTextCommand;
class DragCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.drag);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'dragOffsetX', type: _argument.integerArgument, required: true }, { name: 'dragOffsetY', type: _argument.integerArgument, required: true }, { name: 'options', type: _argument.actionOptions, init: initMouseOptions, required: true }];
    }
}

exports.DragCommand = DragCommand;
class DragToElementCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.dragToElement);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'destinationSelector', init: _initializers.initSelector, required: true }, { name: 'options', type: _argument.actionOptions, init: initDragToElementOptions, required: true }];
    }
}

exports.DragToElementCommand = DragToElementCommand;
class SelectTextCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.selectText);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'startPos', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'endPos', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'options', type: _argument.actionOptions, init: initActionOptions, required: true }];
    }
}

exports.SelectTextCommand = SelectTextCommand;
class SelectEditableContentCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.selectEditableContent);
    }

    _getAssignableProperties() {
        return [{ name: 'startSelector', init: _initializers.initSelector, required: true }, { name: 'endSelector', init: _initializers.initSelector, defaultValue: null }, { name: 'options', type: _argument.actionOptions, init: initActionOptions, required: true }];
    }
}

exports.SelectEditableContentCommand = SelectEditableContentCommand;
class SelectTextAreaContentCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.selectTextAreaContent);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }, { name: 'startLine', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'startPos', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'endLine', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'endPos', type: _argument.positiveIntegerArgument, defaultValue: null }, { name: 'options', type: _argument.actionOptions, init: initActionOptions, required: true }];
    }
}

exports.SelectTextAreaContentCommand = SelectTextAreaContentCommand;
class PressKeyCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.pressKey);
    }

    _getAssignableProperties() {
        return [{ name: 'keys', type: _argument.nonEmptyStringArgument, required: true }, { name: 'options', type: _argument.actionOptions, init: initActionOptions, required: true }];
    }
}

exports.PressKeyCommand = PressKeyCommand;
class NavigateToCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.navigateTo);
    }

    _getAssignableProperties() {
        return [{ name: 'url', type: _argument.urlArgument, required: true }, { name: 'stateSnapshot', type: _argument.nullableStringArgument, defaultValue: null }];
    }
}

exports.NavigateToCommand = NavigateToCommand;
class SetFilesToUploadCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.setFilesToUpload);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initUploadSelector, required: true }, { name: 'filePath', type: _argument.stringOrStringArrayArgument, required: true }];
    }
}

exports.SetFilesToUploadCommand = SetFilesToUploadCommand;
class ClearUploadCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.clearUpload);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initUploadSelector, required: true }];
    }
}

exports.ClearUploadCommand = ClearUploadCommand;
class SwitchToIframeCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.switchToIframe);
    }

    _getAssignableProperties() {
        return [{ name: 'selector', init: _initializers.initSelector, required: true }];
    }
}

exports.SwitchToIframeCommand = SwitchToIframeCommand;
class SwitchToMainWindowCommand {
    constructor() {
        this.type = _type2.default.switchToMainWindow;
    }
}

exports.SwitchToMainWindowCommand = SwitchToMainWindowCommand;
class SetNativeDialogHandlerCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.setNativeDialogHandler);
    }

    _getAssignableProperties() {
        return [{ name: 'dialogHandler', init: initDialogHandler, required: true }];
    }
}

exports.SetNativeDialogHandlerCommand = SetNativeDialogHandlerCommand;
class GetNativeDialogHistoryCommand {
    constructor() {
        this.type = _type2.default.getNativeDialogHistory;
    }
}

exports.GetNativeDialogHistoryCommand = GetNativeDialogHistoryCommand;
class GetBrowserConsoleMessagesCommand {
    constructor() {
        this.type = _type2.default.getBrowserConsoleMessages;
    }
}

exports.GetBrowserConsoleMessagesCommand = GetBrowserConsoleMessagesCommand;
class SetTestSpeedCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.setTestSpeed);
    }

    _getAssignableProperties() {
        return [{ name: 'speed', type: _argument.setSpeedArgument, required: true }];
    }
}

exports.SetTestSpeedCommand = SetTestSpeedCommand;
class SetPageLoadTimeoutCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.setPageLoadTimeout);
    }

    _getAssignableProperties() {
        return [{ name: 'duration', type: _argument.positiveIntegerArgument, required: true }];
    }
}

exports.SetPageLoadTimeoutCommand = SetPageLoadTimeoutCommand;
class UseRoleCommand extends _base2.default {
    constructor(obj, testRun) {
        super(obj, testRun, _type2.default.useRole);
    }

    _getAssignableProperties() {
        return [{ name: 'role', type: _argument.actionRoleArgument, required: true }];
    }
}
exports.UseRoleCommand = UseRoleCommand;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZXN0LXJ1bi9jb21tYW5kcy9hY3Rpb25zLmpzIl0sIm5hbWVzIjpbImluaXRBY3Rpb25PcHRpb25zIiwibmFtZSIsInZhbCIsIkFjdGlvbk9wdGlvbnMiLCJpbml0Q2xpY2tPcHRpb25zIiwiQ2xpY2tPcHRpb25zIiwiaW5pdE1vdXNlT3B0aW9ucyIsIk1vdXNlT3B0aW9ucyIsImluaXRUeXBlT3B0aW9ucyIsIlR5cGVPcHRpb25zIiwiaW5pdERyYWdUb0VsZW1lbnRPcHRpb25zIiwiRHJhZ1RvRWxlbWVudE9wdGlvbnMiLCJpbml0RGlhbG9nSGFuZGxlciIsInNraXBWaXNpYmlsaXR5Q2hlY2siLCJ0ZXN0UnVuIiwiZm4iLCJ2YWx1ZSIsIkV4ZWN1dGVDbGllbnRGdW5jdGlvbkNvbW1hbmQiLCJvcHRpb25zIiwibWV0aG9kTmFtZSIsImJ1aWxkZXIiLCJmdW5jdGlvbkJ1aWxkZXJTeW1ib2wiLCJpc1NlbGVjdG9yIiwiU2VsZWN0b3JCdWlsZGVyIiwiZnVuY3Rpb25UeXBlIiwiU2V0TmF0aXZlRGlhbG9nSGFuZGxlckNvZGVXcm9uZ1R5cGVFcnJvciIsIkNsaWVudEZ1bmN0aW9uQnVpbGRlciIsIndpdGgiLCJpbnN0YW50aWF0aW9uIiwiZXhlY3V0aW9uIiwiZ2V0Q29tbWFuZCIsIkNsaWNrQ29tbWFuZCIsIkNvbW1hbmRCYXNlIiwiY29uc3RydWN0b3IiLCJvYmoiLCJUWVBFIiwiY2xpY2siLCJfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMiLCJpbml0IiwiaW5pdFNlbGVjdG9yIiwicmVxdWlyZWQiLCJ0eXBlIiwiYWN0aW9uT3B0aW9ucyIsIlJpZ2h0Q2xpY2tDb21tYW5kIiwicmlnaHRDbGljayIsIkV4ZWN1dGVFeHByZXNzaW9uQ29tbWFuZCIsImV4ZWN1dGVFeHByZXNzaW9uIiwibm9uRW1wdHlTdHJpbmdBcmd1bWVudCIsImRlZmF1bHRWYWx1ZSIsImJvb2xlYW5Bcmd1bWVudCIsIkRvdWJsZUNsaWNrQ29tbWFuZCIsImRvdWJsZUNsaWNrIiwiSG92ZXJDb21tYW5kIiwiaG92ZXIiLCJUeXBlVGV4dENvbW1hbmQiLCJ0eXBlVGV4dCIsIkRyYWdDb21tYW5kIiwiZHJhZyIsImludGVnZXJBcmd1bWVudCIsIkRyYWdUb0VsZW1lbnRDb21tYW5kIiwiZHJhZ1RvRWxlbWVudCIsIlNlbGVjdFRleHRDb21tYW5kIiwic2VsZWN0VGV4dCIsInBvc2l0aXZlSW50ZWdlckFyZ3VtZW50IiwiU2VsZWN0RWRpdGFibGVDb250ZW50Q29tbWFuZCIsInNlbGVjdEVkaXRhYmxlQ29udGVudCIsIlNlbGVjdFRleHRBcmVhQ29udGVudENvbW1hbmQiLCJzZWxlY3RUZXh0QXJlYUNvbnRlbnQiLCJQcmVzc0tleUNvbW1hbmQiLCJwcmVzc0tleSIsIk5hdmlnYXRlVG9Db21tYW5kIiwibmF2aWdhdGVUbyIsInVybEFyZ3VtZW50IiwibnVsbGFibGVTdHJpbmdBcmd1bWVudCIsIlNldEZpbGVzVG9VcGxvYWRDb21tYW5kIiwic2V0RmlsZXNUb1VwbG9hZCIsImluaXRVcGxvYWRTZWxlY3RvciIsInN0cmluZ09yU3RyaW5nQXJyYXlBcmd1bWVudCIsIkNsZWFyVXBsb2FkQ29tbWFuZCIsImNsZWFyVXBsb2FkIiwiU3dpdGNoVG9JZnJhbWVDb21tYW5kIiwic3dpdGNoVG9JZnJhbWUiLCJTd2l0Y2hUb01haW5XaW5kb3dDb21tYW5kIiwic3dpdGNoVG9NYWluV2luZG93IiwiU2V0TmF0aXZlRGlhbG9nSGFuZGxlckNvbW1hbmQiLCJzZXROYXRpdmVEaWFsb2dIYW5kbGVyIiwiR2V0TmF0aXZlRGlhbG9nSGlzdG9yeUNvbW1hbmQiLCJnZXROYXRpdmVEaWFsb2dIaXN0b3J5IiwiR2V0QnJvd3NlckNvbnNvbGVNZXNzYWdlc0NvbW1hbmQiLCJnZXRCcm93c2VyQ29uc29sZU1lc3NhZ2VzIiwiU2V0VGVzdFNwZWVkQ29tbWFuZCIsInNldFRlc3RTcGVlZCIsInNldFNwZWVkQXJndW1lbnQiLCJTZXRQYWdlTG9hZFRpbWVvdXRDb21tYW5kIiwic2V0UGFn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LCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVFlQRSBmcm9tICcuL3R5cGUnO1xuaW1wb3J0IFNlbGVjdG9yQnVpbGRlciBmcm9tICcuLi8uLi9jbGllbnQtZnVuY3Rpb25zL3NlbGVjdG9ycy9zZWxlY3Rvci1idWlsZGVyJztcbmltcG9ydCBDbGllbnRGdW5jdGlvbkJ1aWxkZXIgZnJvbSAnLi4vLi4vY2xpZW50LWZ1bmN0aW9ucy9jbGllbnQtZnVuY3Rpb24tYnVpbGRlcic7XG5pbXBvcnQgZnVuY3Rpb25CdWlsZGVyU3ltYm9sIGZyb20gJy4uLy4uL2NsaWVudC1mdW5jdGlvbnMvYnVpbGRlci1zeW1ib2wnO1xuaW1wb3J0IENvbW1hbmRCYXNlIGZyb20gJy4vYmFzZSc7XG5pbXBvcnQgeyBBY3Rpb25PcHRpb25zLCBDbGlja09wdGlvbnMsIE1vdXNlT3B0aW9ucywgVHlwZU9wdGlvbnMsIERyYWdUb0VsZW1lbnRPcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IGluaXRTZWxlY3RvciwgaW5pdFVwbG9hZFNlbGVjdG9yIH0gZnJvbSAnLi92YWxpZGF0aW9ucy9pbml0aWFsaXplcnMnO1xuaW1wb3J0IHsgZXhlY3V0ZUpzRXhwcmVzc2lvbiB9IGZyb20gJy4uL2V4ZWN1dGUtanMtZXhwcmVzc2lvbic7XG5pbXBvcnQgeyBpc0pTRXhwcmVzc2lvbiB9IGZyb20gJy4vdXRpbHMnO1xuXG5pbXBvcnQge1xuICAgIGFjdGlvbk9wdGlvbnMsXG4gICAgaW50ZWdlckFyZ3VtZW50LFxuICAgIHBvc2l0aXZlSW50ZWdlckFyZ3VtZW50LFxuICAgIG5vbkVtcHR5U3RyaW5nQXJndW1lbnQsXG4gICAgbnVsbGFibGVTdHJpbmdBcmd1bWVudCxcbiAgICB1cmxBcmd1bWVudCxcbiAgICBzdHJpbmdPclN0cmluZ0FycmF5QXJndW1lbnQsXG4gICAgc2V0U3BlZWRBcmd1bWVudCxcbiAgICBhY3Rpb25Sb2xlQXJndW1lbnQsXG4gICAgYm9vbGVhbkFyZ3VtZW50XG59IGZyb20gJy4vdmFsaWRhdGlvbnMvYXJndW1lbnQnO1xuXG5pbXBvcnQgeyBTZXROYXRpdmVEaWFsb2dIYW5kbGVyQ29kZVdyb25nVHlwZUVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3JzL3Rlc3QtcnVuJztcbmltcG9ydCB7IEV4ZWN1dGVDbGllbnRGdW5jdGlvbkNvbW1hbmQgfSBmcm9tICcuL29ic2VydmF0aW9uJztcblxuXG4vLyBJbml0aWFsaXplcnNcbmZ1bmN0aW9uIGluaXRBY3Rpb25PcHRpb25zIChuYW1lLCB2YWwpIHtcbiAgICByZXR1cm4gbmV3IEFjdGlvbk9wdGlvbnModmFsLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gaW5pdENsaWNrT3B0aW9ucyAobmFtZSwgdmFsKSB7XG4gICAgcmV0dXJuIG5ldyBDbGlja09wdGlvbnModmFsLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gaW5pdE1vdXNlT3B0aW9ucyAobmFtZSwgdmFsKSB7XG4gICAgcmV0dXJuIG5ldyBNb3VzZU9wdGlvbnModmFsLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gaW5pdFR5cGVPcHRpb25zIChuYW1lLCB2YWwpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVPcHRpb25zKHZhbCwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGluaXREcmFnVG9FbGVtZW50T3B0aW9ucyAobmFtZSwgdmFsKSB7XG4gICAgcmV0dXJuIG5ldyBEcmFnVG9FbGVtZW50T3B0aW9ucyh2YWwsIHRydWUpO1xufVxuXG5mdW5jdGlvbiBpbml0RGlhbG9nSGFuZGxlciAobmFtZSwgdmFsLCB7IHNraXBWaXNpYmlsaXR5Q2hlY2ssIHRlc3RSdW4gfSkge1xuICAgIHZhciBmbjtcblxuICAgIGlmIChpc0pTRXhwcmVzc2lvbih2YWwpKVxuICAgICAgICBmbiA9IGV4ZWN1dGVKc0V4cHJlc3Npb24odmFsLnZhbHVlLCB0ZXN0UnVuLCB7IHNraXBWaXNpYmlsaXR5Q2hlY2sgfSk7XG4gICAgZWxzZVxuICAgICAgICBmbiA9IHZhbC5mbjtcblxuICAgIGlmIChmbiA9PT0gbnVsbCB8fCBmbiBpbnN0YW5jZW9mIEV4ZWN1dGVDbGllbnRGdW5jdGlvbkNvbW1hbmQpXG4gICAgICAgIHJldHVybiBmbjtcblxuICAgIHZhciBvcHRpb25zICAgICAgPSB2YWwub3B0aW9ucztcbiAgICB2YXIgbWV0aG9kTmFtZSAgID0gJ3NldE5hdGl2ZURpYWxvZ0hhbmRsZXInO1xuICAgIHZhciBidWlsZGVyICAgICAgPSBmbiAmJiBmbltmdW5jdGlvbkJ1aWxkZXJTeW1ib2xdO1xuICAgIHZhciBpc1NlbGVjdG9yICAgPSBidWlsZGVyIGluc3RhbmNlb2YgU2VsZWN0b3JCdWlsZGVyO1xuICAgIHZhciBmdW5jdGlvblR5cGUgPSB0eXBlb2YgZm47XG5cbiAgICBpZiAoZnVuY3Rpb25UeXBlICE9PSAnZnVuY3Rpb24nIHx8IGlzU2VsZWN0b3IpXG4gICAgICAgIHRocm93IG5ldyBTZXROYXRpdmVEaWFsb2dIYW5kbGVyQ29kZVdyb25nVHlwZUVycm9yKGlzU2VsZWN0b3IgPyAnU2VsZWN0b3InIDogZnVuY3Rpb25UeXBlKTtcblxuICAgIGJ1aWxkZXIgPSBidWlsZGVyIGluc3RhbmNlb2YgQ2xpZW50RnVuY3Rpb25CdWlsZGVyID9cbiAgICAgICAgZm4ud2l0aChvcHRpb25zKVtmdW5jdGlvbkJ1aWxkZXJTeW1ib2xdIDpcbiAgICAgICAgbmV3IENsaWVudEZ1bmN0aW9uQnVpbGRlcihmbiwgb3B0aW9ucywgeyBpbnN0YW50aWF0aW9uOiBtZXRob2ROYW1lLCBleGVjdXRpb246IG1ldGhvZE5hbWUgfSk7XG5cbiAgICByZXR1cm4gYnVpbGRlci5nZXRDb21tYW5kKFtdKTtcblxufVxuXG4vLyBDb21tYW5kc1xuZXhwb3J0IGNsYXNzIENsaWNrQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5jbGljayk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnb3B0aW9ucycsIHR5cGU6IGFjdGlvbk9wdGlvbnMsIGluaXQ6IGluaXRDbGlja09wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSaWdodENsaWNrQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5yaWdodENsaWNrKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdENsaWNrT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEV4ZWN1dGVFeHByZXNzaW9uQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5leGVjdXRlRXhwcmVzc2lvbik7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ2V4cHJlc3Npb24nLCB0eXBlOiBub25FbXB0eVN0cmluZ0FyZ3VtZW50LCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAncmVzdWx0VmFyaWFibGVOYW1lJywgdHlwZTogbm9uRW1wdHlTdHJpbmdBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdpc0FzeW5jRXhwcmVzc2lvbicsIHR5cGU6IGJvb2xlYW5Bcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBmYWxzZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRG91YmxlQ2xpY2tDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLmRvdWJsZUNsaWNrKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdENsaWNrT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhvdmVyQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5ob3Zlcik7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnb3B0aW9ucycsIHR5cGU6IGFjdGlvbk9wdGlvbnMsIGluaXQ6IGluaXRNb3VzZU9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUeXBlVGV4dENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUudHlwZVRleHQpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdzZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ3RleHQnLCB0eXBlOiBub25FbXB0eVN0cmluZ0FyZ3VtZW50LCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnb3B0aW9ucycsIHR5cGU6IGFjdGlvbk9wdGlvbnMsIGluaXQ6IGluaXRUeXBlT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERyYWdDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLmRyYWcpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdzZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2RyYWdPZmZzZXRYJywgdHlwZTogaW50ZWdlckFyZ3VtZW50LCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnZHJhZ09mZnNldFknLCB0eXBlOiBpbnRlZ2VyQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdE1vdXNlT3B0aW9ucywgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERyYWdUb0VsZW1lbnRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLmRyYWdUb0VsZW1lbnQpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdzZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2Rlc3RpbmF0aW9uU2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdERyYWdUb0VsZW1lbnRPcHRpb25zLCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2VsZWN0VGV4dENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUuc2VsZWN0VGV4dCk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnc3RhcnRQb3MnLCB0eXBlOiBwb3NpdGl2ZUludGVnZXJBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdlbmRQb3MnLCB0eXBlOiBwb3NpdGl2ZUludGVnZXJBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdEFjdGlvbk9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RFZGl0YWJsZUNvbnRlbnRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnNlbGVjdEVkaXRhYmxlQ29udGVudCk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3N0YXJ0U2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdlbmRTZWxlY3RvcicsIGluaXQ6IGluaXRTZWxlY3RvciwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdEFjdGlvbk9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RUZXh0QXJlYUNvbnRlbnRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnNlbGVjdFRleHRBcmVhQ29udGVudCk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnc3RhcnRMaW5lJywgdHlwZTogcG9zaXRpdmVJbnRlZ2VyQXJndW1lbnQsIGRlZmF1bHRWYWx1ZTogbnVsbCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnc3RhcnRQb3MnLCB0eXBlOiBwb3NpdGl2ZUludGVnZXJBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdlbmRMaW5lJywgdHlwZTogcG9zaXRpdmVJbnRlZ2VyQXJndW1lbnQsIGRlZmF1bHRWYWx1ZTogbnVsbCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnZW5kUG9zJywgdHlwZTogcG9zaXRpdmVJbnRlZ2VyQXJndW1lbnQsIGRlZmF1bHRWYWx1ZTogbnVsbCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnb3B0aW9ucycsIHR5cGU6IGFjdGlvbk9wdGlvbnMsIGluaXQ6IGluaXRBY3Rpb25PcHRpb25zLCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJlc3NLZXlDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnByZXNzS2V5KTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAna2V5cycsIHR5cGU6IG5vbkVtcHR5U3RyaW5nQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdvcHRpb25zJywgdHlwZTogYWN0aW9uT3B0aW9ucywgaW5pdDogaW5pdEFjdGlvbk9wdGlvbnMsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0ZVRvQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5uYXZpZ2F0ZVRvKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAndXJsJywgdHlwZTogdXJsQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdzdGF0ZVNuYXBzaG90JywgdHlwZTogbnVsbGFibGVTdHJpbmdBcmd1bWVudCwgZGVmYXVsdFZhbHVlOiBudWxsIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZXRGaWxlc1RvVXBsb2FkQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5zZXRGaWxlc1RvVXBsb2FkKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0VXBsb2FkU2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdmaWxlUGF0aCcsIHR5cGU6IHN0cmluZ09yU3RyaW5nQXJyYXlBcmd1bWVudCwgcmVxdWlyZWQ6IHRydWUgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsZWFyVXBsb2FkQ29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5jbGVhclVwbG9hZCk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3NlbGVjdG9yJywgaW5pdDogaW5pdFVwbG9hZFNlbGVjdG9yLCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3dpdGNoVG9JZnJhbWVDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnN3aXRjaFRvSWZyYW1lKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VsZWN0b3InLCBpbml0OiBpbml0U2VsZWN0b3IsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTd2l0Y2hUb01haW5XaW5kb3dDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IFRZUEUuc3dpdGNoVG9NYWluV2luZG93O1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNldE5hdGl2ZURpYWxvZ0hhbmRsZXJDb21tYW5kIGV4dGVuZHMgQ29tbWFuZEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yIChvYmosIHRlc3RSdW4pIHtcbiAgICAgICAgc3VwZXIob2JqLCB0ZXN0UnVuLCBUWVBFLnNldE5hdGl2ZURpYWxvZ0hhbmRsZXIpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdkaWFsb2dIYW5kbGVyJywgaW5pdDogaW5pdERpYWxvZ0hhbmRsZXIsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHZXROYXRpdmVEaWFsb2dIaXN0b3J5Q29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgICB0aGlzLnR5cGUgPSBUWVBFLmdldE5hdGl2ZURpYWxvZ0hpc3Rvcnk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0QnJvd3NlckNvbnNvbGVNZXNzYWdlc0NvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy50eXBlID0gVFlQRS5nZXRCcm93c2VyQ29uc29sZU1lc3NhZ2VzO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNldFRlc3RTcGVlZENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUuc2V0VGVzdFNwZWVkKTtcbiAgICB9XG5cbiAgICBfZ2V0QXNzaWduYWJsZVByb3BlcnRpZXMgKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc3BlZWQnLCB0eXBlOiBzZXRTcGVlZEFyZ3VtZW50LCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2V0UGFnZUxvYWRUaW1lb3V0Q29tbWFuZCBleHRlbmRzIENvbW1hbmRCYXNlIHtcbiAgICBjb25zdHJ1Y3RvciAob2JqLCB0ZXN0UnVuKSB7XG4gICAgICAgIHN1cGVyKG9iaiwgdGVzdFJ1biwgVFlQRS5zZXRQYWdlTG9hZFRpbWVvdXQpO1xuICAgIH1cblxuICAgIF9nZXRBc3NpZ25hYmxlUHJvcGVydGllcyAoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7IG5hbWU6ICdkdXJhdGlvbicsIHR5cGU6IHBvc2l0aXZlSW50ZWdlckFyZ3VtZW50LCByZXF1aXJlZDogdHJ1ZSB9XG4gICAgICAgIF07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVXNlUm9sZUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kQmFzZSB7XG4gICAgY29uc3RydWN0b3IgKG9iaiwgdGVzdFJ1bikge1xuICAgICAgICBzdXBlcihvYmosIHRlc3RSdW4sIFRZUEUudXNlUm9sZSk7XG4gICAgfVxuXG4gICAgX2dldEFzc2lnbmFibGVQcm9wZXJ0aWVzICgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3JvbGUnLCB0eXBlOiBhY3Rpb25Sb2xlQXJndW1lbnQsIHJlcXVpcmVkOiB0cnVlIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG4iXX0=
