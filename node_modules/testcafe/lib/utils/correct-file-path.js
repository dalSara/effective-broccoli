'use strict';

exports.__esModule = true;

exports.default = function (path, expectedExtention) {
    const correctedPath = path.replace(/\\/g, '/').split('/').map(str => (0, _sanitizeFilename2.default)(str)).join('/');

    if (!expectedExtention) return correctedPath;

    const extentionRe = new RegExp((0, _lodash.escapeRegExp)(expectedExtention));

    return extentionRe.test(correctedPath) ? correctedPath : `${correctedPath}.${expectedExtention}`;
};

var _sanitizeFilename = require('sanitize-filename');

var _sanitizeFilename2 = _interopRequireDefault(_sanitizeFilename);

var _lodash = require('lodash');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlscy9jb3JyZWN0LWZpbGUtcGF0aC5qcyJdLCJuYW1lcyI6WyJwYXRoIiwiZXhwZWN0ZWRFeHRlbnRpb24iLCJjb3JyZWN0ZWRQYXRoIiwicmVwbGFjZSIsInNwbGl0IiwibWFwIiwic3RyIiwiam9pbiIsImV4dGVudGlvblJlIiwiUmVnRXhwIiwidGVzdCJdLCJtYXBwaW5ncyI6Ijs7OztrQkFHZSxVQUFVQSxJQUFWLEVBQWdCQyxpQkFBaEIsRUFBbUM7QUFDOUMsVUFBTUMsZ0JBQWdCRixLQUNqQkcsT0FEaUIsQ0FDVCxLQURTLEVBQ0YsR0FERSxFQUVqQkMsS0FGaUIsQ0FFWCxHQUZXLEVBR2pCQyxHQUhpQixDQUdiQyxPQUFPLGdDQUFpQkEsR0FBakIsQ0FITSxFQUlqQkMsSUFKaUIsQ0FJWixHQUpZLENBQXRCOztBQU1BLFFBQUksQ0FBQ04saUJBQUwsRUFDSSxPQUFPQyxhQUFQOztBQUVKLFVBQU1NLGNBQWMsSUFBSUMsTUFBSixDQUFXLDBCQUFTUixpQkFBVCxDQUFYLENBQXBCOztBQUVBLFdBQU9PLFlBQVlFLElBQVosQ0FBaUJSLGFBQWpCLElBQWtDQSxhQUFsQyxHQUFtRCxHQUFFQSxhQUFjLElBQUdELGlCQUFrQixFQUEvRjtBQUNILEM7O0FBaEJEOzs7O0FBQ0EiLCJmaWxlIjoidXRpbHMvY29ycmVjdC1maWxlLXBhdGguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2FuaXRpemVGaWxlbmFtZSBmcm9tICdzYW5pdGl6ZS1maWxlbmFtZSc7XG5pbXBvcnQgeyBlc2NhcGVSZWdFeHAgYXMgZXNjYXBlUmUgfSBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocGF0aCwgZXhwZWN0ZWRFeHRlbnRpb24pIHtcbiAgICBjb25zdCBjb3JyZWN0ZWRQYXRoID0gcGF0aFxuICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCAnLycpXG4gICAgICAgIC5zcGxpdCgnLycpXG4gICAgICAgIC5tYXAoc3RyID0+IHNhbml0aXplRmlsZW5hbWUoc3RyKSlcbiAgICAgICAgLmpvaW4oJy8nKTtcblxuICAgIGlmICghZXhwZWN0ZWRFeHRlbnRpb24pXG4gICAgICAgIHJldHVybiBjb3JyZWN0ZWRQYXRoO1xuXG4gICAgY29uc3QgZXh0ZW50aW9uUmUgPSBuZXcgUmVnRXhwKGVzY2FwZVJlKGV4cGVjdGVkRXh0ZW50aW9uKSk7XG5cbiAgICByZXR1cm4gZXh0ZW50aW9uUmUudGVzdChjb3JyZWN0ZWRQYXRoKSA/IGNvcnJlY3RlZFBhdGggOiBgJHtjb3JyZWN0ZWRQYXRofS4ke2V4cGVjdGVkRXh0ZW50aW9ufWA7XG59XG4iXX0=
